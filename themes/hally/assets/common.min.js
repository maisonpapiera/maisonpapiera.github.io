$(document).ready(function(){'use strict';var d=$(".top-nav"),l=$(".nav__icon-menu"),g=$(".ion-md-close"),f=$(".nav__icon-search"),e=$(".search__close"),c=$(".search"),a,b;m();function m(){var a;$(window).scroll(function(){var b=$(this).scrollTop();b>a&&a>70?$('.header').addClass('is-hide'):$('.header').removeClass('is-hide'),a=b})}l.click(function(){h()}),g.click(function(){i()}),f.click(function(){j()}),e.click(function(){k()});function h(){d.addClass("is-visible")}function i(){d.removeClass("is-visible")}function j(){c.addClass("is-visible"),setTimeout(function(){searchInput.focus()},300)}function k(){c.removeClass("is-visible")}$('.search, .search__box').on('click keyup',function(a){(a.target==this||a.keyCode==27)&&$('.search').removeClass('is-visible')}),a=$('.grid').masonry({itemSelector:'.grid__post',percentPosition:!0}),a.imagesLoaded().progress(function(){a.masonry('layout')}),b=$('.load-more-posts'),b.click(function(e){var c,d;e.preventDefault(),c=$('.load-more-section'),d=pagination_next_url.split('/page')[0]+'/page/'+pagination_next_page_number+'/',$.ajax({url:d,beforeSend:function(){b.text('Loading...')}}).done(function(e){var d=$('.grid__post',e);$('.grid').append(d).masonry('appended',d),a.imagesLoaded().progress(function(){a.masonry('layout')}),$('.fadein').addClass('inview'),b.text('Load Posts ').append('<i class="ion ion-ios-arrow-down"></i>'),pagination_next_page_number++,pagination_next_page_number>pagination_available_pages_number&&c.addClass('hide')})}),$(".post__content, .page__content").fitVids({customSelector:['iframe[src*="ted.com"]','iframe[src*="player.twitch.tv"]','iframe[src*="facebook.com"]']}),$(".page img, .post img").attr("data-action","zoom"),$(".page a img, .post a img").removeAttr("data-action","zoom"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||$('.fadein').viewportChecker({classToAdd:'inview',offset:100}),$(".home section").hasClass("author")||$(".home .container__inner").addClass("without-author"),$(".top").click(function(){$("html, body").stop().animate({scrollTop:0},"slow","swing")}),$(window).scroll(function(){$(this).scrollTop()>$(window).height()?$(".top").addClass("is-active"):$(".top").removeClass("is-active")})})